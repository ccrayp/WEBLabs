<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Калькулятор кредита</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js"></script>
</head>
<body>
    <div class="container mt-5" id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const LoanCalculator = () => {
            const [amount, setAmount] = useState(0);
            const [interestRate, setInterestRate] = useState(0);
            const [term, setTerm] = useState(0);
            const [monthlyPayment, setMonthlyPayment] = useState(0);

            const calculatePayment = () => {
                const principal = parseFloat(amount);
                const calculatedInterest = parseFloat(interestRate) / 100 / 12;
                const calculatedPayments = parseFloat(term) * 12;

                const payment = (principal * calculatedInterest) / (1 - Math.pow(1 + calculatedInterest, -calculatedPayments));
                setMonthlyPayment(isNaN(payment) ? 0 : payment.toFixed(2));
            };

            return (
                <div className="card p-3 col-5">
                    <h2 className="card-title">Калькулятор кредита</h2>
                    <div className="form-group">
                        <label>Сумма кредита</label>
                        <input type="number" className="form-control" value={amount} onChange={(e) => setAmount(e.target.value)} />
                    </div>
                    <div className="form-group">
                        <label>Процентная ставка (%)</label>
                        <input type="number" className="form-control" value={interestRate} onChange={(e) => setInterestRate(e.target.value)} />
                    </div>
                    <div className="form-group">
                        <label>Срок кредита (в годах)</label>
                        <input type="number" className="form-control" value={term} onChange={(e) => setTerm(e.target.value)} />
                    </div>
                    <button className="btn btn-primary" onClick={calculatePayment}>Рассчитать</button>
                    <h3 className="mt-3">Ежемесячный платеж: {monthlyPayment} ₽</h3>
                </div>
            );
        };

        ReactDOM.render(<LoanCalculator />, document.getElementById('root'));
    </script>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>


